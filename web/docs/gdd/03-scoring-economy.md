# 스코어링과 자원 경제

## 개요
본 문서는 솔리테어 디펜스의 자원 경제 시스템과 스코어링 체계를 정의합니다. 플레이어는 솔리테어 플레이를 통해 자원을 획득하고, 이를 유닛 소환과 스펠 사용에 소모하며, 최종적으로 다양한 요소를 기반으로 점수를 획득합니다.

---

## 자원 경제

### Energy (에너지)

**획득 방식:**
- Foundation에 카드 1장을 올릴 때마다 **+1 Energy**

**소모 방식:**
- 유닛 소환 시 티어별 소모:
  - **티어 1**: 2 Energy
  - **티어 2**: 4 Energy
  - **티어 3**: 7 Energy
  - **티어 4**: 12 Energy

**중요 사항:**
- Foundation 스택 자체는 소모되지 않음 (Energy만 소모)
- Foundation 카드는 게임 종료까지 유지되며, 전술적 자원으로 활용

**예시:**
- Foundation에 카드 10장을 올린 경우 → 10 Energy 보유
- 티어 2 유닛 2개 소환 → 8 Energy 소모, 2 Energy 남음

---

### Spell 토큰

**획득 방식:**
- Tableau에서 뒤집힌 카드(face-down)를 뒤집을 때마다 **+1 Spell 토큰**

**소모 방식:**
- **Freeze** (적 동결): 1 토큰
- **Boost** (유닛 강화): 2 토큰
- **Recall** (카드 회수): 3 토큰

**전략적 의미:**
- Tableau 카드 뒤집기는 솔리테어 진행의 핵심 행동
- 스펠 토큰 획득은 자연스러운 플레이 보상
- 고급 스펠일수록 높은 비용

---

### 패널티 없는 항목

**Stock 순환:**
- Stock을 끝까지 순환해도 **패널티 없음**
- 솔리테어 특성상 불가피한 상황이므로 제약하지 않음

**Undo 기능:**
- 기능 자체 **제거**
- 전략적 선택의 무게감 부여
- 실수 복구가 아닌 사전 계획 강조

---

## 스코어링 시스템

### 최종 점수 공식

```
최종 점수 = 처치 점수 + Foundation 보너스 + 생존 보너스 + 콤보 보너스
```

---

### 처치 점수

적 유닛을 제거할 때마다 점수 획득:

| 적 유형 | 점수 |
|---------|------|
| 일반 몬스터 | 10점 |
| 엘리트 | 50점 |
| 보스 | 200점 |

**예시:**
- 웨이브 5 클리어 (일반 5마리) → 50점
- 보스 처치 → 200점

---

### Foundation 완성도 보너스

Foundation에 Suit를 완성할 때마다 누적 보너스:

| 완성된 Suit 수 | 보너스 점수 | 누적 총계 |
|----------------|------------|-----------|
| 1 Suit (A→K) | +500 | 500 |
| 2 Suit | +700 | 1,200 |
| 3 Suit | +900 | 2,100 |
| 4 Suit | +1,900 | 4,000 |

**중요 사항:**
- 부분 완성은 보너스 없음 (A→K 전체만 인정)
- 4 Suit 완성 시 총 **4,000점**의 거대한 보너스
- Foundation 완성이 최종 고득점의 핵심 전략

---

### 생존 보너스

게임 종료 시 Core HP에 따른 보너스:

| Core HP | 보너스 점수 |
|---------|------------|
| HP 3 (만점) | +500 |
| HP 2 | +200 |
| HP 1 | +50 |
| HP 0 (패배) | 0 |

**전략적 의미:**
- 무피해 클리어 시 고득점
- 방어 유닛 배치와 타이밍의 중요성 강조

---

### 콤보 보너스

특수 플레이 달성 시 추가 점수:

| 달성 조건 | 보너스 점수 |
|-----------|------------|
| 합성 유닛 소환 | +50점 / 회 |
| 세븐즈 아포칼립스 발동 | +300점 |
| Perfect Wave (피해 0) | +100점 / 웨이브 |

**설명:**
- **합성 유닛 소환**: 같은 숫자/Suit 조합으로 상위 유닛 생성
- **세븐즈 아포칼립스**: 7 4장 수집 후 필드 전체 광역 공격
- **Perfect Wave**: 해당 웨이브에서 Core HP 피해 0 유지

---

### 시간 계수 제외

**제거 이유:**
- 턴제 전략 게임 구조와 모순
- 신중한 사고와 계획을 방해
- 플레이어가 자신의 속도로 즐길 수 있도록 보장

---

## 리더보드

### 기록 항목

**1. 최고 웨이브 도달 (무한 모드)**
- 엔드리스 모드에서 도달한 최고 웨이브 수
- 난이도 증가 속도에 따른 생존력 측정

**2. 최고 점수 (캠페인)**
- 캠페인 모드 완료 시 최종 점수
- Foundation 완성, 생존, 콤보 종합 평가

**3. 시드 고정 모드**
- 동일한 덱 시드로 점수 경쟁
- "오늘의 챌린지" 형식
- 순수 플레이 실력 비교

---

## 스코어 예시

### 예시 1: 캠페인 클리어 (무난한 플레이)

```
- 처치 점수: 1,200점 (일반 100마리, 엘리트 4마리)
- Foundation 보너스: 1,200점 (2 Suit 완성)
- 생존 보너스: 200점 (HP 2)
- 콤보 보너스: 400점 (합성 4회, Perfect 3회)
───────────────────────────────────────
최종 점수: 3,000점
```

### 예시 2: 고득점 플레이

```
- 처치 점수: 2,500점 (일반 150마리, 엘리트 10마리, 보스 5마리)
- Foundation 보너스: 4,000점 (4 Suit 완성)
- 생존 보너스: 500점 (HP 3)
- 콤보 보너스: 1,350점 (합성 9회, 세븐즈 2회, Perfect 7회)
───────────────────────────────────────
최종 점수: 8,350점
```

### 예시 3: 무한 모드 생존

```
- 처치 점수: 5,800점 (웨이브 50 도달)
- Foundation 보너스: 2,100점 (3 Suit)
- 생존 보너스: 50점 (HP 1)
- 콤보 보너스: 2,200점 (합성 20회, 세븐즈 5회, Perfect 5회)
───────────────────────────────────────
최종 점수: 10,150점
```

---

## 밸런스 고려사항

### 자원 획득/소모 밸런스
- Energy: 평균 웨이브당 10~15장 Foundation 진행 가정
- Spell 토큰: 웨이브당 2~4개 획득 예상
- 티어 4 유닛은 희소성 유지 (12 Energy = 카드 12장)

### 점수 분포
- Foundation 완성이 최대 점수 기여 (4,000점)
- 생존과 콤보가 부가 점수 (최대 2,000점대)
- 처치 점수는 플레이 시간에 비례

### 난이도별 조정 가능성
- Easy: Energy 획득 1.5배
- Hard: Spell 토큰 획득 0.5배
- 보스전: 처치 점수 2배

---

## 향후 확장 가능성

- **일일 챌린지**: 고정 시드 + 특수 룰 (예: Spell 금지, 티어 1 유닛만)
- **업적 시스템**: 특정 조건 달성 시 영구 버프
- **시즌별 보상**: 리더보드 상위권 스킨/카드백 보상
- **커스텀 모드**: 자원 배율, 적 난이도 조절 가능

---

## 요약

| 자원 | 획득 | 소모 |
|------|------|------|
| Energy | Foundation +1 / 장 | 유닛 소환 (2/4/7/12) |
| Spell 토큰 | Tableau 뒤집기 +1 / 회 | 스펠 사용 (1/2/3) |

| 점수 항목 | 최대 기여도 |
|-----------|------------|
| Foundation 보너스 | 4,000점 |
| 생존 보너스 | 500점 |
| 처치 점수 | 무제한 (플레이 시간) |
| 콤보 보너스 | 무제한 (플레이 숙련도) |

**핵심 설계 철학:**
- 솔리테어 플레이가 곧 자원 획득
- 패널티보다 보상 중심 설계
- 전략적 선택의 무게감 유지
- 리플레이 가치 극대화
