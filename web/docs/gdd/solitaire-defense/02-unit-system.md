# Unit System - 유닛 소환 및 전투 규칙

## Suit -> Unit Class 매핑

4개의 Suit가 4개의 유닛 클래스에 매핑된다. 각 클래스는 고유한 전투 역할을 수행한다.

| Suit | 클래스명 | 역할 | 공격 방식 | 특성 |
|------|---------|------|----------|------|
| Spade | Knight (기사) | 근접 탱커 | 근접 단일 | 높은 HP, 낮은 DPS |
| Heart | Cleric (성직자) | 힐러/서포터 | 아군 회복 | 인접 아군 HP 회복 |
| Diamond | Archer (궁수) | 원거리 딜러 | 원거리 단일 | 높은 DPS, 낮은 HP |
| Club | Mage (마법사) | 범위 딜러 | 원거리 범위 | 범위 공격, 중간 DPS |

## Rank -> Unit Grade

Rank가 높을수록 유닛이 강하다. 3개 등급으로 구분된다.

| Rank 범위 | 등급 | 스탯 배율 | 배치 비용 (슬롯) |
|----------|------|---------|---------------|
| A-4 | Bronze | x1.0 | 1 |
| 5-9 | Silver | x1.5 | 1 |
| 10-K | Gold | x2.2 | 1 |

### 스탯 기본값 (Bronze 기준)

| 클래스 | HP | ATK | SPD | Range | 특수 |
|--------|-----|-----|-----|-------|------|
| Knight | 120 | 15 | 1.0 | 1 | 피격 시 50% 확률로 인접 적도 공격 |
| Cleric | 60 | 0 | 1.2 | 2 | 매 턴 인접 아군 HP 15 회복 |
| Archer | 50 | 25 | 1.5 | 4 | 크리티컬 20% (2배 데미지) |
| Mage | 70 | 20 | 0.8 | 3 | 범위 2칸 내 모든 적에게 피해 |

등급 배율은 HP와 ATK에 곱셈 적용. SPD, Range, 특수 효과는 등급에 무관.

## Suit Combo - 연속 적재 보너스

같은 Suit의 카드를 **연속으로** (중간에 다른 Suit 없이) Foundation에 올리면 콤보 보너스가 발동한다.

| 연속 수 | 보너스 |
|---------|--------|
| 2연속 | 해당 유닛 ATK +10% |
| 3연속 | 해당 유닛 ATK +20%, HP +10% |
| 4연속 | 해당 유닛 ATK +30%, HP +20%, 특수 효과 강화 |

콤보는 **해당 웨이브의 Card Phase 내**에서만 적용된다. 웨이브 간 콤보는 이어지지 않는다.

이 메카닉은 솔리테어에서 "같은 Suit를 집중 공략"하는 전략적 선택에 의미를 부여한다.

## Foundation Milestone - 마일스톤 보너스

각 Foundation 파일의 특정 Rank 도달 시 일회성 보너스가 발동한다.

| 마일스톤 | 조건 | 보너스 |
|---------|------|--------|
| First Blood | 아무 Foundation에 첫 A 적재 | 추가 턴 +3 |
| Squad Ready | 4개 Suit 모두 A 이상 적재 | 모든 유닛 HP +10% (영구) |
| Silver Gate | 아무 Foundation이 5 도달 | 해당 클래스 Silver 유닛 1개 무료 소환 |
| Gold Gate | 아무 Foundation이 10 도달 | 해당 클래스 Gold 유닛 1개 무료 소환 |
| Full Suit | 아무 Foundation이 K 도달 | 해당 클래스 "챔피언" 유닛 소환 (아래 참조) |

## Champion Units - 챔피언 유닛

한 Suit의 A~K를 모두 Foundation에 올리면 해당 클래스의 **챔피언 유닛**이 소환된다. 게임당 최대 4체.

| 챔피언 | 클래스 | 특수 능력 |
|--------|--------|---------|
| Black Knight | Knight | 사망 시 3턴간 유령 상태로 전투 지속 |
| High Priestess | Cleric | 범위 3 내 모든 아군 동시 회복 + 1회 부활 부여 |
| Golden Archer | Archer | 공격 시 관통 (일직선 모든 적에게 피해) |
| Archmage | Mage | 전체 화면 범위 공격 (쿨다운 5턴) |

챔피언 유닛은 Gold 등급의 x3.0 배율 스탯을 가지며, 배치 비용 2슬롯.

## 유닛 배치 규칙

### 디펜스 레인

```
[Slot 1] [Slot 2] [Slot 3] [Slot 4] [Slot 5]  <-- 적 진행 방향
  (후방)                                (전방)      [기지]와 가까운 쪽이 후방
```

- 5개 슬롯의 1차원 레인
- 각 슬롯에 1개 유닛 배치 가능 (챔피언은 2슬롯)
- 전방(Slot 5 쪽)에 배치된 유닛이 먼저 적과 교전
- 후방에 원거리 유닛, 전방에 근접 유닛이 기본 전략

### 배치 제한

- 웨이브당 최대 **5슬롯** 사용 가능
- 이전 웨이브에서 생존한 유닛은 **잔류** (HP 유지)
- 잔류 유닛을 **재배치** 가능 (위치 변경, 1턴 비용 없음)
- 새 유닛 배치는 빈 슬롯에만 가능

## 전투 진행

1. 적이 레인 우측에서 좌측으로 이동
2. 사거리 내 적을 만나면 유닛이 공격 개시
3. SPD에 따라 공격 빈도 결정 (SPD 1.0 = 1초당 1회)
4. 적 HP가 0이 되면 처치, 다음 적으로 타겟 변경
5. 모든 적 처치 시 웨이브 클리어
6. 적이 Slot 1을 통과하면 기지에 도달 -> 기지 HP 감소
